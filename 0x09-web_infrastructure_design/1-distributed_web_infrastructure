Diagram elements:

User (laptop/phone) → Internet → DNS (A record for www.foobar.com pointing to load balancer IP)

Load Balancer (HAProxy) — distributes requests to 2 servers.

Two Servers:

Web Server (Nginx)

Application Server (runs code)

Application Files (shared or synced)

Database Cluster:

Primary DB (MySQL) — handles writes + reads.

Replica DB (MySQL) — handles reads only (in Master-Slave replication setup).

Explanation:
The load balancer is like a traffic cop that sends cars (requests) to whichever road (server) is less busy.

Now we have two servers instead of one, so if one is busy or breaks, the other can still serve the website.

The database cluster is like having two fridges — the main fridge (Primary) where you put in and take out food, and a backup fridge (Replica) where you only take food from. The backup fridge copies whatever is in the main fridge.

This way, things are faster and safer — but we still have some weak spots.

Why each extra element
Second server → removes single point of failure in the app tier, improves capacity.

Load balancer (HAProxy) → spreads traffic evenly, provides failover.

Replica DB → offloads read queries from the primary DB, improves performance and provides a backup copy.

Active-Active vs Active-Passive
Active-Active: both servers are working at the same time and share traffic (our setup here).

Active-Passive: one server works while the other waits on standby, only taking over if the active one fails.

Primary-Replica DB Cluster
Primary node: handles both writes (inserts, updates) and reads.

Replica node: copies data from primary (replication) and serves reads only — cannot accept writes.

Application sends writes to primary, reads can be balanced across primary and replica

Issues with this setup
SPOF:

Load balancer is still a single point of failure.

Primary DB is still a single point of failure for writes.

Security:

No firewall to block unwanted access.

No HTTPS — traffic not encrypted.

No monitoring:

We don’t know if a server goes down unless we check manually.
